generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        String   @id @default(cuid())
  name      String
  email     String   @unique
  password  String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  movies    Movie[]
}

model Movie {
  id               String      @id @default(cuid())
  userId           String
  title            String
  originalTitle    String?
  tagline          String?
  description      String?
  releaseDate      DateTime
  durationMinutes  Int
  status           MovieStatus @default(RELEASED)
  originalLanguage String?
  posterUrl        String?
  trailerUrl       String?
  popularity       Float?
  voteCount        Int?
  voteAverage      Float?
  budgetUSD        Int?
  revenueUSD       Int?
  profitUSD        Int?
  genres           String[]
  createdAt        DateTime    @default(now())
  updatedAt        DateTime    @updatedAt
  user             User        @relation(fields: [userId], references: [id])

  @@index([userId])
  @@index([releaseDate])
  @@index([genres])
}

enum MovieStatus {
  PLANNED
  IN_PRODUCTION
  RELEASED
  CANCELLED
}
